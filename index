<!DOCTYPE html>
<html>
<head>
<title>Road Trip to Grandma's!</title>
<style>
body {
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  margin: 0;
}

#time-inputs {
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
}

#progress-container {
  width: 80%;
  background-color: #f0f0f0;
  border-radius: 5px;
  overflow: hidden;
}

#progress-bar {
  height: 30px;
  background-color: #4CAF50;
  width: 0%;
  border-radius: 5px;
  transition: width 1s linear;
}

#time-labels {
    display: flex;
    justify-content: space-between;
    width: 80%; /* Match progress bar width */
    margin-top: 10px;
}

h1 {
    margin-bottom: 20px;
}

</style>
</head>
<body>

<h1>Road Trip to Grandma's!</h1>

<div id="time-inputs">
  <label for="start-time">Start Time:</label>
  <input type="time" id="start-time" value="08:00">

  <label for="end-time">End Time:</label>
  <input type="time" id="end-time" value="17:00">
</div>

<div id="progress-container">
  <div id="progress-bar"></div>
</div>
<div id="time-labels">
  <span id="start-time-display"></span>
  <span id="end-time-display"></span>
</div>



<script>
function updateProgress() {
  const startTimeStr = document.getElementById("start-time").value;
  const endTimeStr = document.getElementById("end-time").value;

  const startTime = parseTime(startTimeStr);
  const endTime = parseTime(endTimeStr);
  const currentTime = new Date();

    document.getElementById("start-time-display").textContent = startTimeStr;
    document.getElementById("end-time-display").textContent = endTimeStr;

  if (isNaN(startTime) || isNaN(endTime)) {
    alert("Invalid time format. Please use HH:MM.");
    return;
  }

    const totalDuration = endTime - startTime;
    let elapsedDuration = currentTime - startTime;

    if (elapsedDuration < 0) {
        alert("Road trip hasn't started yet!");
        return;
    }

    if (elapsedDuration > totalDuration) {
        elapsedDuration = totalDuration;
    }


  const progressPercentage = (elapsedDuration / totalDuration) * 100;

  const progressBar = document.getElementById("progress-bar");
  progressBar.style.width = progressPercentage + "%";

}

function parseTime(timeStr) {
    const [hours, minutes] = timeStr.split(':').map(Number);
    const now = new Date();
    return new Date(now.getFullYear(), now.getMonth(), now.getDate(), hours, minutes);
}

// Initial update
updateProgress();

// Update the progress bar periodically (e.g., every minute)
setInterval(updateProgress, 60000);

// Event listeners for time input changes
document.getElementById("start-time").addEventListener("change", updateProgress);
document.getElementById("end-time").addEventListener("change", updateProgress);

</script>

</body>
</html>
